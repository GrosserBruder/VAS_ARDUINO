<h1 align="center">ОТЧЁТ <br> о результатах работы за сентябрь 2020 года</h1>
 
#### За отчётный период было выполнено следующее:
***1,2. Первичное знакомство с проектом и исследование имеющихся наработок.***

<p>
За отчётный период ознакомился с результатами разработки предыдущего оператора научной роты по теме научного исследования 
программно-аппаратного комплекса автоматизированной системы мониторинга и управления состоянием удалённых объектов в части 
аппаратного модуля сбора, анализа и оповещения о его состоянии.</p> 
<p style="text-indent: 5%">В ходе ознакомления с программно-аппаратным комплексом были определены следующие аппаратные компоненты системы:</p>

1. Управляющие устройство.
2. Несколько управляемых устройств.

<p>Информационный обмен между устройствами осуществляется по интерфейсу (шина) RS-485 (Рис. 1).</p>
<p align="center">
  <img src="https://github.com/NekitJavaDev/VAS_ARDUINO/blob/master/src/img/september/1_%D1%81%D1%85%D0%B5%D0%BC%D0%B0_%D0%BF%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%B2_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_%D0%BC%D0%B5%D0%B6%D0%B4%D1%83_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0%D0%BC%D0%B8.jpg"/>
</p>
<p align="center">Рисунок 1 — Схема потоков данных между устройствами<p align="center">
</p>

<p>
Преимуществом RS-485 является относительная простота реализации, высокая помехозащищенность, надежная передача данных на дальние расстояния,
а также доступность высокоскоростного обмена данными. Исходя из определенных преимуществ совершается выбор в пользу данного интерфейса 
популярных во многих сферах деятельности (СКУД — система контроля удаленным доступом, пожарная сигнализация и другое).
Скорость обмена: при длине 1200м — 62,5 кбит/c, при длине 10м — 10000 кбит/с.</p>

Схема подключения между собой всех компонентов системы сделана в программе Fritzing (Рис. 2).
<p align="center">
  <img src="https://github.com/NekitJavaDev/VAS_ARDUINO/blob/master/src/img/september/2_c%D1%85%D0%B5%D0%BC%D0%B0_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B.jpg"/>
</p>
<p align="center">Рисунок 2 – Схема подключения компонентов системы<p align="center">
</p>

В блок управляющего устройства интегрирован LCD-дисплей для вывода в реальном времени показателей со всех датчиков управляемых устройств.
Вид сверху управляющего устройства продемонстрирован на рисунке 3.
<p align="center">
  <img src="https://github.com/NekitJavaDev/VAS_ARDUINO/blob/master/src/img/september/3_%D0%B1%D0%BB%D0%BE%D0%BA_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B5%D0%B3%D0%BE_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0_%D0%BE%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B0%D1%8E%D1%89%D0%B8%D0%B9_%D0%BF%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D0%B8_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B_(%D1%82%D0%B5%D0%BC%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D1%83%D1%80%D0%B0).jpg"/>
</p>
<p align="center">Рисунок 3 – Блок управляющего устройства, отображающий показатели системы (температура)<p align="center">
</p>

Вид изнутри управляющего блока показан на рисунке 4.
<p align="center">
  <img src="https://github.com/NekitJavaDev/VAS_ARDUINO/blob/master/src/img/september/4_%D0%B2%D0%B8%D0%B4_%D0%B8%D0%B7%D0%BD%D1%83%D1%82%D1%80%D0%B8_%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B5%D0%B3%D0%BE_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0.jpg"/>
</p>
<p align="center">Рисунок 4 – Вид изнутри блока управляющего устройства<p align="center">
</p>

#### Достигнутые результаты предыдущим оператором научной роты:
1.	Разработан и реализован алгоритм обмена данными между устройствами с помощью интерфейса RS485.
2.	Интегрированы температурные датчики.
3.	Интегрирован модуль дисплея для отображения информации.
4.	Организован сбор и хранение показателей с ведомых устройств (в реальном времени).
5.	Организовано отображение выборочных показателей на интегрированном дисплее.
6.	Интегрирован GSM-модуль для обмена данными с мобильными устройствами.

#### Направления применения программно-аппаратного комплекса:
*	Склады.
*	Жилые помещения.
*	КХО.
*	Парки автомобилей и боевой техники.

***3. Подготовлено рабочее место для проведения научных исследований.***

Так в названии НИР присутствует словосочетание «программно-аппаратный комплекс», то вся НИР разделяется на 2 этапа разработки:
1.	Программная 
2.	Аппаратная

Программная разработка подразумевает установку и настройку различного ПО на ПК. Так как в разрабатываемой системе используются 
платы Arduino как в качестве управляющего устройства, так и в качестве управляемого устройства, то подготовку рабочего места 
следует начать именно с неё. Для аппаратной разработки системы необходимо следующее оборудование:
1.	Мультиметр
2.	Паяльная станция
3.	Микроконтроллеры семейства Arduino
4.	Провода для подключения всевозможных датчиков
5.	Ethernet кабели
6.	USB кабели
7.	ПК с USB портами

Для написания прошивки на Arduino в первую очередь необходимо определиться с языком программирования. Не существует специально созданного 
языка для программирования Arduino, но большинство программ пишется на языке Wiring, основанного на C/C++. 
Написанные скетчи с расширением *.ino с минимальными изменениями компилируются в программу на C/C++. 
Среда разработки Arduino IDE упрощает создание устройств и написания программ для Arduino.

В теории запрограммировать микроконтроллер Arduino можно абсолютно на любом языке. Языки программирования, такие как
Java, Python, Ruby, PHP, Scala, JavaScript напрямую не понятны процессору. Для всех вышеперечисленных языков существуют свои компиляторы,
которые и будут переводить текст программы из наиболее понятного для чтения и понимания, с точки зрения синтаксиса языка, 
в команды процессора, который сам по себе не умеет думать, и вся его работа состоит в исполнении инструкций байт за байтом 
(машинный код, состоящий из нулей и единиц). Для популярных языков программирования существуют, как правило, 
несколько компиляторов на выбор. У каждого языка есть свои преимущества и недостатки, и выбор языка зависит от разных факторов,
таких как понятность при чтении, скорость написания программы и скорость её исполнения процессором.

<p style="text-indent: 5%">
Например, программы на языке Perl пишутся быстро, но понять, что имел в виду программист невозможно и исполняется довольно медленно. 
Программы, написанные на языке Java, пишутся относительно долго, с большим количеством строк кода, но читаются просто, 
каждый класс пишется в отдельном файле, который называется так же, как и имя класса, исполняются довольно быстро, 
но занимают много памяти. Язык Assembler представляет собой сложный синтаксис, где команды языка взаимодействуют напрямую с регистрами процессора.
Такие программы пишутся долго, читаются сложно, но исполняются очень быстро.</p>

<p style="text-indent: 5%">
На практике, выбор языка прошивки для Arduino ограничивается тремя языками:

1.	Assembler
2.	C
3.	C++
</p>

<p style="text-indent: 5%">
Такой небольшой выбор языков программирования микроконтроллеров Arduino объясняется тем, что в сравнении с настольными персональными компьютерами,
платы Arduino обладают ограниченными ресурсами. То есть для конкретной Arduino Mega 2560 – это 256 Кбайт памяти и процессор,
работающий на частоте 16 МГц. Это вынужденная плата за небольшую денежную стоимость микроконтроллера и за её энергоэффективность.</p>

<p style="text-indent: 5%">
На языке Assembler будет трудно отлаживать программу, искать ошибки в конкретных регистрах памяти, поэтому выбор пал на язык С/C++.
Два языка упоминаются вместе, потому что программы, написанные на языке C отлично скомпилируются и запустятся на языке С++, но не наоборот.
С++ – это просто надстройка над чистым С. Самым популярным языком разработки под Arduino является язык Processing (Wiring). 
Это просто удобная надстройка над языком С/C++, служащая для простоты разработки программы, с которой не нужно изобретать 
простые вещи каждый раз заново. Для удобства разработки существует официальная, свободно распространяющаяся среда разработки Arduino IDE, 
имеющая текстовой редактор, компилятор и другие полезные вещи [<https://www.arduino.cc/en/Main/Software>].</p>

<p style="text-indent: 5%">
Минимально возможная правильная программа на языке С/С++ для Arduino состоит из двух функций:

1.	Setup() – запускается один раз при подаче питания на микроконтроллер. Функция служит для инициализации пинов с помощью функции
pinMode (PIN, VOLT). В Setup() используется функция Serial.begin(SPEED), которая инициализирует последовательное соединение 
для обмена данными с компьютером, и в качестве единственного аргумента функции задаёт скорость передачи данных в бит/секунду (БОД). 
2.	Loop() – (в переводе с английского – “цикл”) это главная точка входа в программу, именно в неё помещаются команды, 
которые будут выполняться последовательно в цикле, пока на Arduino поступает питание. В этой функции будут использоваться 
команды чтения данных с пинов, а так же их запись в переменные (участки памяти). 
</p>

<p style="text-indent: 5%">
Для компиляции программы (скетча) в Arduino IDE, на панели инструментов есть кнопка «Verify», при нажатии которой получается 
бинарный файл с расширением *.hex, который уже будет исполнять сам микроконтроллер. Процесс загрузки скетча в Arduino через USB-порт, 
называемого прошивкой, осуществляется с помощью кнопки «Upload», которая стирает ранее залитую прошивку на Arduino. 
Обратный процесс возможен только с помощью программатора или через дисассемблирование, 
но в таком случае намного легче написать прошивку с нуля. </p>

<p style="text-indent: 5%">
Для вывода показателей с датчиков на жидкокристаллический (LCD) экран а также для пересылке данных по GSM каналу необходимо 
написать прошивку (программу на C/C++) для Arduino  в среде разработки Arduino IDE [https://www.arduino.cc/en/Main/Software]. 
Например, чтобы работать с экраном и другими модулями, не входящими в стандартную библиотеку Arduino, следует 
предварительно скачать библиотеку openGLCD и загрузить zip-архив в среду разработки (Рис. 5).</p>
<p align="center">
  <img src="https://github.com/NekitJavaDev/VAS_ARDUINO/blob/master/src/img/september/5_%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B8_openGLCD_%D0%B2_%D1%81%D1%80%D0%B5%D0%B4%D1%83_%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8_Arduino_IDE.jpg"/>
</p>
<p align="center">Рисунок 5 – Добавление библиотеки openGLCD в среду разработки Arduino IDE<p align="center">

<p style="text-indent: 5%">
В начале программы импортируем библиотеку openGLCD, а после создаём объект этой библиотеки для инициализации и очистки дисплея 
в однократно запускающейся функции setup(). Чтобы библиотека импортировалась корректно, содержимое 
zip-архива должно соответствовать определенной структуре папок (src, example — обязательные в корне).</p>

<p style="text-indent: 5%">
При дальнейшем совершенствовании и расширении НИР, для постоянного хранения данных и их отображения на сайте, необходимо установить соответствующее ПО:

1. Установлено JDK (Java Development Kit), содержащее классы для разработки на языке Java. Для запуска программ, написанных на Java, есть  JRE (Java Runtime Enviroment), входящее в состав JDK. Нужно добавить %ПУТЬ_ДО_JAVA%/bin в системные переменные среды и в системную переменную %PATH%.
2. Установлен Apache Maven. Используется для удобной и гибкой сборки проектов на Java. Для подгрузки в проект сторонних библиотек он использует mavan.repository.org (необходимо интернет подключение).
3. Установлена БД PostgreSQL. Она распространяется как свободное (бесплатное) ПО. В её состав входит СУБД (система управления базами данных), сама БД, драйверы для подключения и документация к ней. Используется в качестве локального хранилища, а также для развертывания на сервере.
4. Установлены и развернуты сервера (контейнер сервлетов) Apache Tomcat и Jetty. В настройках конфигурационных файлов на сервере храниться вся информация, необходимая для сборки и бесперебойной работы всех программных компонентов, использованных в проекте (драйвер, ip-адресс, логин и пароль БД, подгружаемые библиотеки и другое).
5. Установлен Git. Это система контроля версий, необходимая для ежедневной работы любого программиста. При добавлении в проект новых файлов или изменения кода существующих, программист фиксирует сделанные изменения (commit) и выкладывает (push) их в свой удаленный репозиторий (папка с проектом, хранящаяся на удаленном сервере GitHub).
6. Для быстрой и гибкой разработки на Java и связанных с ней технологий программисты используют написанную на java IDE (среда разработки) от компании JetBrains — Intellij IDEA ULTIMATE. В ultimate версии все выше перечисленные технологии используют прям внутри среды разработки с помощью GUI (Graphical User Interface) — графического интерфейса. Её GUI невероятно мощный, функциональный и удобный и для каждой есть отдельная вкладка.
7. Установлен Arduino IDE. Для дальнейшего поддержания и совершенствования НИР (для заливки новой прошивки на Arduino контроллерах) была установлена Arduino IDE, драйверы для USB-устройств и необходимые для работы сторонние библиотеки. Подробнее эта среда разработки была описана в начале главы.
</p>

#### 4. Изучена предметная область научного исследования.

<p style="text-indent: 5%">
В мире существует достаточно большое количество электронных устройств, которые выполняют различные по уровню сложности задачи. 
Чуть ли не для каждого действия в нашей жизни существует устройство, которое его облегчает. Множество устройств стали 
неотъемлемой частью нашей повседневной жизни, не бросаясь при этом в глаза, начиная от светофора, созданного для автоматизации 
регулирования движения без участия людей и заканчивая популярным в последнее время «умным домом», с помощью которого можно 
управлять различными электронными устройствами, находясь за множество километров от вашего устройства. 
Прогресс не стоит на месте, поэтому электронные устройства, созданные и работающие  исключительно на благо людей, 
будут продолжать изобретаться, совершенствоваться, строиться.</p>

<p style="text-indent: 5%">
Само понятие «умного дома» возникло в США еще более сорока лет назад. В то время под умным домом подразумевалось "здание, 
обеспечивающее продуктивное и эффективное использование рабочего пространства. В 1978 году была разработана технология, 
которая позволяла управлять бытовыми приборами по проводам бытовой электросети.</p>

<p style="text-indent: 5%">
«Умный дом» относится к популярной в последнее время концепции и технологии “Интернет вещей”, Internet of things или просто IoT. 
Сложность толкования этого термина заключается не в отсутствии определений, а в их избытке. Причём в зависимости от его толкования, 
термин относят как к будущей перспективе, так и уже к свершившемуся факту. Проанализировав несколько статей таких компаний гигантов 
как Cisco Business Solutions Group (CBSG) и Аналитической компании Gartner  на тему «Интернет вещей», 
представим несколько определений этой IoT-концепции:

* IoT – это сеть физических объектов, содержащих встроенную технологию, которая позволяет этим объектам измерять параметры 
собственного состояния или состояния окружающей среды, использовать и передавать эту информацию. Стоит отметить, что слово 
«Интернет» в данном определении вовсе отсутствует. Довольно часто сами вещи связаны с помощью M2M-протоколов, а не самого Интернета.
* IoT – это состояние Интернета начиная с момента времени, когда количество «вещей или объектов», 
подключенных к Всемирной сети, превышает население планеты. </p>

<p style="text-indent: 5%">
Помимо персональных компьютеров, бурный рост смартфонов, умных часов, планшетных компьютеров довел число устройств, 
подключенных к Интернету, до 12,5 млрд. в 2010 году. После анализа собранных данных Cisco Business Solutions Group, 
исходя из несложной арифметики, легко определить саму точку наступления эры «Интернета вещей» (Рис. 6).</p> 
</p>
<p align="center">
  <img src="https://github.com/NekitJavaDev/VAS_ARDUINO/blob/master/src/img/september/6_%D1%80%D0%BE%D1%81%D1%82_%D1%87%D0%B8%D1%81%D0%BB%D0%B0_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2_%D0%BD%D0%B0_%D0%BE%D0%B4%D0%BD%D0%BE%D0%B3%D0%BE_%D1%87%D0%B5%D0%BB%D0%BE%D0%B2%D0%B5%D0%BA%D0%B0.jpg"/>
</p>
<p align="center">Рисунок 6 – Рост числа подключенных устройств на одного человека<br> 
                  (источник: Cisco Business Solutions Group)
</p>

<p style="text-indent: 5%">
Где-то между 2003-м и 2010-м годом количество подключенных электронных устройств к интернету превысило население планеты, 
что и ознаменовало переход в состояние «Интернет вещей».</p>

<p style="text-indent: 5%">
Миллиарды умных подключенных «вещей» образуют одну универсальную глобальную нейронную сеть, которая включает все аспекты нашей жизни. 
IoT состоит из умных машин, взаимодействующих и общающихся с другими машинами, объектами, окружающей средой и инфраструктурой, 
которые образуют экосистему, показанную на рисунке 7. </p>
<p align="center">
  <img src="https://github.com/NekitJavaDev/VAS_ARDUINO/blob/master/src/img/september/7_%D1%8D%D0%BA%D0%BE%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_IoT.jpg"/>
</p>
<p align="center">Рисунок 7 – Экосистема IoT<p align="center">
</p>

<p style="text-indent: 5%">
В этой системе будет генерироваться огромное количество объема данных, обработка которых может использоваться для управления 
и осуществления контроля над вещами, чтобы сделать нашу жизнь удобнее и безопаснее, а также снизить наше воздействие на окружающую среду.</p>

<p style="text-indent: 5%">
Также за отчётный период было предложено рационализаторское предложение на базе Arduino. Оно было признанно рационализаторским 
и принято Военной академией связи к использованию, под наименованием: 
«Программно-аппаратный комплекс контроля своевременного оповещения об освещении в дальних (не просматриваемых) помещениях в ночное время суток».</p>

#### 5. Подобрана литература по теме исследования.

<p style="text-indent: 5%">

1.	Керниган Б., Ритчи Д. Язык программирования С. - М.: Вильямс, 2009. ¬- 304 с.
2.	Хоровиц П., Хилл У. Искусство схемотехники. - М.: Издательство БИНОМ, 2014. - 704с. 
3.	Титце У., Шенк К. Полупроводниковая схемотехника. - М.: ДМК Пресс, 2008. - 832 с.
4.	Блум Д. Изучаем Arduino. Инструменты и методы технического волшебства - СПб.: 2018. - 336 с.
5.	Петин В. Проекты с использованием контроллера Arduino, 2-е издание. - СПб.: БХВ-Петербург, 2019. - 496 с.
6.	Соммер У. Программирование микроконтроллерных плат Arduino/Freeduino. - СПб.: БХВ-Петербург, 2016. - 256 с.
7.	Г. Шилд. Java 8. Полное руководство. 9-е издание. - М.: Вильямс, 2015. – 1376 с.
8.	Монк С. Программируем Arduino: Основы работы со скетчами. - СПб.: Питер, 2016 — 176 с. </p>
